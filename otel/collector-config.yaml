# receivers:
#   otlp:
#     protocols:
#       grpc:
#       http:
#         cors:
#           allowed_origins:
#             - http://*
#             - https://*

# exporters:
#   zipkin:
#     endpoint: "http://zipkin-all-in-one:9411/api/v2/spans"
#   prometheus:
#     endpoint: "0.0.0.0:9464"

# processors:
#   batch:

# service:
#   telemetry:
#     logs:
#       level: "debug"
#   pipelines:
#     traces:
#       receivers: [otlp]
#       exporters: [zipkin]
#       processors: [batch]
#     metrics:
#       receivers: [otlp]
#       exporters: [prometheus]
#       processors: [batch]

# # receivers:
# #   otlp:
# #     protocols:
# #       grpc:
# #       http:
# #         cors:
# #           allowed_origins:
# #             - http://*
# #             - https://*

# #   # Collect metrics from OpenTelemetry collector itself
# #   prometheus:
# #     config:
# #       scrape_configs:
# #       - job_name: 'otel-collector'
# #         scrape_interval: 30s
# #         static_configs:
# #         - targets: ['0.0.0.0:8888']

# # exporters:
# #   otlp/betterstack:
# #     endpoint: "https://in-otel.logs.betterstack.com:443"
# #   prometheusremotewrite/betterstack:
# #     endpoint: "https://in-otel.logs.betterstack.com/metrics"

# # processors:
# #   attributes/betterstack:
# #     actions:
# #       - key: better_stack_source_token
# #         value: YhyPjweL2e5rTHyfxL949ej9
# #         action: insert
# #   batch:

# # service:
# #   pipelines:
# #     metrics/betterstack:
# #       receivers: [otlp, prometheus] # You can add more metrics receivers here
# #       processors: [batch, attributes/betterstack]
# #       exporters: [prometheusremotewrite/betterstack]
# #     logs/betterstack:
# #       receivers: [otlp] # You can add more logs receivers here
# #       processors: [batch, attributes/betterstack]
# #       exporters: [otlp/betterstack]
# #     traces:
# #       receivers: [otlp]
# #       exporters: [otlp/betterstack]
# #       processors: [batch, attributes/betterstack]

receivers:
  otlp:
    protocols:
      grpc:
      http:
 
exporters:
  # HTTP setup
  otlphttp/hdx:
    endpoint: 'https://in-otel.hyperdx.io'
    headers:
      authorization: bcbfb168-0bcd-445b-b14d-fa5763e45976
    compression: gzip
 
  # gRPC setup (alternative)
  otlp/hdx:
    endpoint: 'in-otel.hyperdx.io:4317'
    headers:
      authorization: bcbfb168-0bcd-445b-b14d-fa5763e45976
    compression: gzip
 
processors:
  batch:
 
service:
  pipelines:
    traces:
      receivers: [otlp]
      processors: [batch]
      exporters: [otlphttp/hdx]
    metrics:
      receivers: [otlp]
      processors: [batch]
      exporters: [otlphttp/hdx]
    logs:
      receivers: [otlp]
      processors: [batch]
      exporters: [otlphttp/hdx]